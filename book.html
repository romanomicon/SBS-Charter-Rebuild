<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Book â€” Structure Editor</title>
  <link rel="stylesheet" href="css/theme.css">
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/book.css">
  <script>
    // Apply saved theme immediately
    const savedPreset = localStorage.getItem('themePreset') || 'green';
    document.documentElement.setAttribute('data-preset', savedPreset);
  </script>
</head>

<body>
  <!-- Global nav -->
  <header class="global-nav">
    <div class="nav-inner">
      <div class="brand">SBS Charter</div>
      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="settings.html">Settings</a>
        <a href="#">Account</a>
      </nav>
    </div>
  </header>

  <main class="container book-page">
    <!-- Book Info Row (title + key verse) -->
    <section id="bookInfoRow" class="book-info-row">
      <!-- Generated by JS -->
    </section>

    <!-- Two-column layout -->
    <section class="two-col">
      <!-- Left panel -->
      <aside id="leftPanel" class="left-panel">
        <div class="panel-header">Paragraph Titles</div>
        <div id="paragraphRows" class="paragraph-rows"></div>
      </aside>

      <!-- Right panel -->
      <aside id="rightPanel" class="right-panel">
        <div class="panel-header">
          <span>Structure</span>
          <div class="panel-actions">
            <span id="saveStatus" class="save-status">Saved</span>
            <span id="dirtyStatus" class="dirty-status">Unsaved changes</span>
            <button id="export-json" class="btn action-btn" title="Export structure as JSON">
              JSON</button>
            <button id="export-word" class="btn action-btn" title="Export structure as Word document">
              Word</button>
            <button id="saveBookBtn" class="btn action-btn primary" title="Save this book">
              Save</button>
          </div>
        </div>
        <div id="structureList" class="structure-list">
          <!-- Divisions / Sections / Segments -->
        </div>
      </aside>
    </section>

    <footer class="footer">
      Tip: paragraph titles can be edited and assigned to the structure with the buttons.
    </footer>
  </main>

  <!-- External dependency for Word export -->
  <script src="https://cdn.jsdelivr.net/npm/docx@7.3.0/build/index.js"></script>

  <!--<script src="js/export/exportWord.js"></script>

   Word export logic (adds window.exportWord)
  <script src="js/wordExport.js"></script> -->

  <!-- Application entry point (ES module) -->
  <script type="module" src="js/bookPage.js"></script>

</body>

</html>